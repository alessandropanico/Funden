<!-- Modal payment promtp -->
<ng-template #modalPaymentPromtp let-modal>
  <div  class="modal-content modal-payment ">
    <div class="modal-body modal-payment-body">
      <i (click)="closeModalPayPromtp(modalPaymentPromtp)"class="mdi mdi-close pointer icon-close-modal"></i>
      <div class="center-item">
          <img src="assets/images/icon.png" class="img-modal-icon">
      </div>
      <div class="m-t-15 text-center">
        <div class="mt-40px">
          <p class="">titolo</p>
        </div>

        <div class="mt-10px">
          <span class="text-primary">This pack includes {{plansArtist[plan].planQUANTITYPROMTP }} prompts</span>
          <hr style="width: 270px; margin: auto; margin-top: 0px;">
        </div>

        <div class="mt-30px">
          <span>
            You are purchasing: <label class="text-primary">{{plansArtist[plan].planQUANTITYPROMTP }} promtps</label> for <label class="text-primary">{{plansArtist[plan].planDISCOUNTPRICE | numberFormat}} €</label>
          </span>
          <hr style="width: 300px; margin: auto; margin-top: 0px;">
        </div>

        <div class="mt-50px">
          <h3 class="color-black bold">titolo</h3>
        </div>

        <form ngNativeValidate #formPaymentPromtp="ngForm" (ngSubmit)="createPaymentMeth(modalPaymentPromtp, formPaymentPromtp, modalPaymentCongra)">
          <div class="form-group" style="padding-left: 20px; padding-right: 20px; margin-top: 35px">

            <div style="max-width: 320px; text-align: left; margin: auto;">
              <div class="content-checkbox" style="display: flex;">
                <input
                  type="checkbox"
                  name="checkPayAvailable"
                  [checked]="checkPayAvailable"
                  [disabled]="validCheckPayAvailable()"
                  (change)="checkPayAvailable=!checkPayAvailable">
                <label class="" for="checkPayAvailable">
                  Pay with credit - <span class="text-primary">{{balanceAmount | numberFormat}} € available</span>
                </label>
              </div>

              <div class="content-checkbox mt-20px">
                <input
                  type="checkbox"
                  name="checkPayCreditDebit"
                  [checked]="checkPayCreditDebit"
                  [disabled]="checkPayAvailable"
                  (change)="checkPayCreditDebit=!checkPayCreditDebit">
                <label class="" for="checkPayCreditDebit">
                 label
                </label>
              </div>

              <img src="assets/images/stripe.png"
                style="
                  height: 60px;
                  margin-left: 36px;
                  top: 0px;
                  position: relative;">
            </div>

            <div class="mt-20px" *ngIf="checkPayCreditDebit">
              <div class="row">
                <div class="col-8">
                    <div class="input_group">
                        <input
                          mask="0000 0000 0000 0000 0000 0000 0000 0000"
                          class="form-control"
                          placeholder=""
                          type="text"
                          [(ngModel)]="numberCard" name="numberCard"
                          style="border: 0px; background-color: transparent; border-bottom: solid 2px grey; border-radius: 0; padding: 0%; margin-top: -10px; padding-left: 25px;"
                          required>
                        <i class="mdi mid mdi-credit-card" style="float: left; margin-top: -38px; font-size: 25px;"></i>
                    </div>
                </div>
                <div class="col-3">
                    <div class="input_group">
                        <input
                          class="form-control"
                          placeholder=""
                          mask="00/00"
                          type="text"
                          maxlength="5"
                          [(ngModel)]="expCard"
                          name="expCard"
                          style="border: 0px; background-color: transparent; border-bottom: solid 2px grey; border-radius: 0; padding: 0%; margin-top: -10px; padding-left: 5px;"
                          required>
                    </div>
                </div>
              </div>

              <div class="row" style="margin-top: 15px;">
                  <div class="col-8">
                      <div class="input_group">
                          <input class="form-control"
                            placeholder=""
                            type="text"
                            maxlength="50"
                            [(ngModel)]="nameCard"
                            name="nameCard"
                            style="border: 0px; background-color: transparent; border-bottom: solid 2px grey; border-radius: 0; padding: 0%; margin-top: -10px; padding-left: 5px;"
                            required>
                      </div>
                  </div>
                  <div class="col-3">
                      <div class="input_group">
                          <input
                            class="form-control"
                            placeholder=""
                            type="text"
                            mask="000"
                            maxlength="3"
                            [(ngModel)]="cvcCard"
                            name="cvcCard"
                            style="border: 0px; background-color: transparent; border-bottom: solid 2px grey; border-radius: 0; padding: 0%; margin-top: -10px; padding-left: 5px;"
                            required>
                      </div>
                  </div>
              </div>
            </div>
            <br>
            <div class="text-center">
                <button
                  class="btn btn-primary"
                  [disabled]="
                    (!checkPayAvailable && !checkPayCreditDebit) ||
                    (checkPayAvailable && validCheckPayAvailable()) ||
                    (!checkPayAvailable && checkPayCreditDebit && !formPaymentPromtp.valid)
                    || disableBtnPay
                  "
                  type="submit"
                  style="width: 150px; border-radius: 30px;">Button</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #modalPaymentCongra let-modal>
  <app-modal-pay-congrat-prompt
      [modal]="modalPaymentCongra"
      [plan]="quantityPrompt"
  >
  </app-modal-pay-congrat-prompt>
</ng-template>
